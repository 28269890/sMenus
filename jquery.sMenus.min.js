/*
	jQuery 鼠标提示插件 v2.0

	https://github.com/28269890/sMenus

	Demo：https://28269890.github.io/sMenus

*/
(function(a){a.fn.sMenus=function(h){var e=a.extend({},a.fn.sMenus.defaults,h);0==a("#_sMenus").size()&&a("body").append("\x3cdiv id\x3d'_sMenus' class\x3d'"+e.css+"'\x3e\x3c/div\x3e");a("#_sMenus").on({contextmenu:function(){return!1}});a(document).click(function(b){if(0!=a(b.target).closest("#_sMenus").length)return!0;a("#_sMenus").fadeOut(e.outTime)});var g=function(b){var c=a("\x3cdiv\x3e");if(b.text)c.addClass("menu");else return c.addClass("hr"),c;b.css&&c.addClass(b.css);var d=a("\x3cspan\x3e"+b.text+"\x3c/span\x3e");void 0!=b.close?d.data("close",b.close):d.data("close",e.close);"function"==typeof b.fn&&(d.data("fn",b.fn),d.click(function(){a(this).data("fn")();a(this).data("close")&&a("#_sMenus").fadeOut(e.outTime)}));c.append(d);if(Array.isArray(b.data)&&0<b.data.length){var d=a("\x3cdiv class\x3d'"+e.css+"'\x3e"),f;for(f in b.data)d.append(g(b.data[f]));c.append(d);c.addClass("main")}return c};this.each(function(){Array.isArray(a(this).data("sMenu"))||(a(this).attr("sMenu")?a(this).data("sMenu",eval(a(this).attr("sMenu"))):a(this).data("sMenu",e.data));if(!Array.isArray(a(this).data("sMenu")))return!1;a(this).on({contextmenu:function(){return!1},mouseup:function(b){if(3!=b.which)return!0;a("#_sMenus").html("");var c=a(this).data("sMenu"),d=a("\x3cdiv\x3e"),f;for(f in c)d.append(g(c[f]));a("#_sMenus").append(d.children());c=b.pageX+1;b=b.pageY+1;c+a("#_sMenus").outerWidth()>=document.body.clientWidth&&(c-=a("#_sMenus").outerWidth());b+a("#_sMenus").outerHeight()>=document.body.clientHeight&&(b-=a("#_sMenus").outerHeight());0>c&&(c=0);0>b&&(b=0);a("#_sMenus").css({left:c,top:b});a("#_sMenus").fadeTo(e.inTime,e.phy)}})})};a.fn.sMenus.defaults={data:[],phy:1,inTime:200,outTime:200,css:"sMenus",close:!0}})(jQuery);